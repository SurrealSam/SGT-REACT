(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{36:function(t,e,a){t.exports=a(65)},41:function(t,e,a){},65:function(t,e,a){"use strict";a.r(e);var n=a(0),i=a.n(n),o=a(30),l=a.n(o),c=(a(41),a(42),a(16)),r=a(1),s=a(19),u=a(9),m=a.n(u),d=a(13),h=a(14),p=new(function(){function t(){Object(d.a)(this,t),this.authenticated=!1}return Object(h.a)(t,[{key:"login",value:function(t){this.authenticated=!0,t()}},{key:"logout",value:function(t){this.authenticated=!1,t()}},{key:"isAuthenticated",value:function(){return this.authenticated}}]),t}());var v=function(t){var e=Object(n.useState)(""),a=Object(s.a)(e,2),o=a[0],l=a[1],c=Object(n.useState)(""),r=Object(s.a)(c,2),u=r[0],d=r[1];return i.a.createElement("div",{className:"App"},i.a.createElement("div",null,i.a.createElement("h1",null,"Login"),i.a.createElement("input",{placeholder:"username",onChange:function(t){return l(t.target.value)}}),i.a.createElement("input",{placeholder:"password",onChange:function(t){return d(t.target.value)}}),i.a.createElement("button",{onClick:function(){m()({method:"POST",data:{username:o,password:u},withCredentials:!0,url:"http://localhost:4000/login"}).then((function(e){console.log(e.data),"Successfully Authenticated"===e.data&&p.login((function(){t.history.push("/home")}))}))}},"Submit")))},b=a(33),f=a(3),E=a(35),y=a(32),g=function(t){Object(E.a)(a,t);var e=Object(y.a)(a);function a(){var t;return Object(d.a)(this,a),(t=e.call(this)).displayData=[],t.state={showdata:t.displayData,items:[],movements:[],testDate:"",quantityTotal:0},t.appendData=t.appendData.bind(Object(f.a)(t)),t.buildItem=t.buildItem.bind(Object(f.a)(t)),t.getItems=t.getItems.bind(Object(f.a)(t)),t.getMovements=t.getMovements.bind(Object(f.a)(t)),t.getMovementsBySKU=t.getMovementsBySKU.bind(Object(f.a)(t)),t.isNotExpired=t.isNotExpired.bind(Object(f.a)(t)),t.makeDate=t.makeDate.bind(Object(f.a)(t)),t.appendLot=t.appendLot.bind(Object(f.a)(t)),t.buildLot=t.buildLot.bind(Object(f.a)(t)),t.appendTotal=t.appendTotal.bind(Object(f.a)(t)),t.buildTotal=t.buildTotal.bind(Object(f.a)(t)),t.buildWholeCard=t.buildWholeCard.bind(Object(f.a)(t)),t.filterMovements=t.filterMovements.bind(Object(f.a)(t)),t}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var t=this;this.setState({movements:this.getMovements()}),this.getItems(),setTimeout((function(){return t.buildWholeCard()}),1500)}},{key:"buildItem",value:function(t){return i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"card-body"},i.a.createElement("h5",{className:"card-title"},t.name),i.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},t.sku),i.a.createElement("p",{className:"card-text"})))}},{key:"filterMovements",value:function(t){var e,a=[];for(e=0;e<this.state.movements.length;e++)this.state.movements[e].sku===t&&a.push(this.state.movements[e]);return a}},{key:"buildWholeCard",value:function(){var t=this;this.state.items.forEach((function(e){var a=0,n=t.filterMovements(e.sku);t.appendData(e);var i=[];n.forEach((function(e){i.push(e.lot),e.expiration?t.isNotExpired(e.expiration)&&("shipping"===e.movement&&(a-=parseInt(e.quantity)),"receiving"===e.movement&&(a+=parseInt(e.quantity))):("shipping"===e.movement&&(a-=parseInt(e.quantity)),"receiving"===e.movement&&(a+=parseInt(e.quantity)))}));var o=Object(b.a)(new Set(i)),l=[];o.forEach((function(t){l.push({lot:t,quantity:0,expiration:"",isNotExpired:!0})})),n.forEach((function(e){var a;for(a=0;a<l.length;a++)e.lot===l[a].lot&&("shipping"===e.movement&&(l[a].quantity=l[a].quantity-parseInt(e.quantity)),"receiving"===e.movement&&(l[a].quantity=l[a].quantity+parseInt(e.quantity)),e.expiration&&(l[a].isNotExpired=t.isNotExpired(e.expiration),l[a].expiration=e.expiration))})),l.forEach((function(e){t.appendLot(e)})),t.appendTotal(a)}))}},{key:"buildLot",value:function(t){var e;return e=t.isNotExpired?"list-group-item-success":"list-group-item-danger",i.a.createElement("li",{className:"list-group-item ".concat(e)},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-2"},"Lot: ",t.lot),i.a.createElement("div",{className:"col-md-2"},"Expiration Date: ",t.expiration),i.a.createElement("div",{className:"col-md-2"},"Quantity: ",t.quantity),i.a.createElement("div",{className:"col-md-6 "})),i.a.createElement("br",null))}},{key:"buildTotal",value:function(t){return i.a.createElement("li",null,i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-4 "}),i.a.createElement("div",{className:"col-md-2"},"Total: ",t),i.a.createElement("div",{className:"col-md-6 "})),i.a.createElement("br",null))}},{key:"getItems",value:function(){var t=this;m()({method:"GET",url:"http://localhost:4000/items"}).then((function(e){e.data.forEach((function(e){t.state.items.push({sku:e.sku,name:e.name})}))}))}},{key:"isNotExpired",value:function(t){var e=this.makeDate();return""===t||!(t<e)&&(t>e||t!==e&&void console.log("expiration cannot be read"))}},{key:"getMovements",value:function(){var t=this;m()({method:"GET",url:"http://localhost:4000/movements"}).then((function(e){t.setState({movements:e.data})}))}},{key:"getMovementsBySKU",value:function(t){m()({method:"GET",url:"http://localhost:4000/movements/".concat(t)}).then((function(t){return t.data}))}},{key:"appendData",value:function(t){this.displayData.push(this.buildItem(t)),this.setState({showdata:this.displayData})}},{key:"appendLot",value:function(t){this.displayData.push(this.buildLot(t)),this.setState({showdata:this.displayData})}},{key:"appendTotal",value:function(t){this.displayData.push(this.buildTotal(t)),this.setState({showdata:this.displayData})}},{key:"makeDate",value:function(){var t=new Date,e=t.getFullYear(),a=t.getMonth()+1,n=t.getDate();return n<10&&(n="0"+n.toString()),a<10&&(a="0"+a.toString()),e+"/"+a+"/"+n}},{key:"render",value:function(){return i.a.createElement("div",{id:"mainContainer"},i.a.createElement("div",{id:"display-data-Container"},this.displayData))}}]),a}(i.a.Component);var k=function(t){return i.a.createElement("div",null,i.a.createElement("button",{onClick:function(){p.logout((function(){t.history.push("/")}))}},"Log Out"),i.a.createElement(g,null))},O=a(34),j=function(t){var e=t.component,a=Object(O.a)(t,["component"]);return i.a.createElement(r.b,Object.assign({},a,{render:function(t){return p.isAuthenticated()?i.a.createElement(e,t):i.a.createElement(r.a,{to:{pathname:"/",state:{from:t.location}}})}}))};var N=function(){return i.a.createElement(c.a,null,i.a.createElement(r.d,null,i.a.createElement(r.b,{exact:!0,path:"/",component:v}),i.a.createElement(j,{exact:!0,path:"/home",component:k}),i.a.createElement(r.b,{path:"*",component:function(){return"404 NOT FOUND"}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[36,1,2]]]);
//# sourceMappingURL=main.faa1fd3e.chunk.js.map